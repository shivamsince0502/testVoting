{"version":3,"file":"extract.js","sourceRoot":"","sources":["../../../../lib/modules/manager/nix/extract.ts"],"names":[],"mappings":";;;AAAA,+CAA4C;AAC5C,wDAA8D;AAC9D,sDAAmE;AAGnE,MAAM,YAAY,GAAG,IAAA,aAAK,EAAC,+CAA+C,CAAC,CAAC;AAE5E,SAAgB,kBAAkB,CAAC,OAAe;IAChD,MAAM,IAAI,GAAwB,EAAE,CAAC;IAErC,MAAM,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACzC,IAAI,KAAK,EAAE,MAAM,EAAE;QACjB,MAAM,EAAE,GAAG,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC;QAC7B,IAAI,CAAC,IAAI,CAAC;YACR,OAAO,EAAE,SAAS;YAClB,YAAY,EAAE,GAAG;YACjB,UAAU,EAAE,4BAAiB,CAAC,EAAE;YAChC,WAAW,EAAE,kCAAkC;YAC/C,UAAU,EAAE,YAAiB;SAC9B,CAAC,CAAC;KACJ;IAED,IAAI,IAAI,CAAC,MAAM,EAAE;QACf,OAAO,EAAE,IAAI,EAAE,CAAC;KACjB;IAED,OAAO,IAAI,CAAC;AACd,CAAC;AApBD,gDAoBC","sourcesContent":["import { regEx } from '../../../util/regex';\nimport { GitRefsDatasource } from '../../datasource/git-refs';\nimport { id as nixpkgsVersioning } from '../../versioning/nixpkgs';\nimport type { PackageDependency, PackageFileContent } from '../types';\n\nconst nixpkgsRegex = regEx(/\"github:nixos\\/nixpkgs\\/(?<ref>[a-z0-9-.]+)\"/i);\n\nexport function extractPackageFile(content: string): PackageFileContent | null {\n  const deps: PackageDependency[] = [];\n\n  const match = nixpkgsRegex.exec(content);\n  if (match?.groups) {\n    const { ref } = match.groups;\n    deps.push({\n      depName: 'nixpkgs',\n      currentValue: ref,\n      datasource: GitRefsDatasource.id,\n      packageName: 'https://github.com/NixOS/nixpkgs',\n      versioning: nixpkgsVersioning,\n    });\n  }\n\n  if (deps.length) {\n    return { deps };\n  }\n\n  return null;\n}\n"]}