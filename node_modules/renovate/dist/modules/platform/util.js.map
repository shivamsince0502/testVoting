{"version":3,"file":"util.js","sourceRoot":"","sources":["../../../lib/modules/platform/util.ts"],"names":[],"mappings":";;;;AAAA,0DAA0B;AAE1B,SAAgB,eAAe,CAC7B,MAAuB,EACvB,QAA4B;IAE5B,MAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,QAAQ,KAAK,MAAM,EAAE,CAAC,CAAC,CAAC,GAAG,MAAM,EAAE,CAAC;IAChE,MAAM,WAAW,GAAG,IAAA,eAAK,EAAC,KAAK,CAAC,CAAC;IACjC,OAAO,WAAW,CAAC;AACrB,CAAC;AAPD,0CAOC;AAED,SAAgB,gBAAgB,CAAC,UAAmB;IAClD,IAAI,UAAU,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,aAAa,CAAC,EAAE;QACvD,OAAO,cAAc,UAAU,EAAE,CAAC;KACnC;IACD,OAAO,UAAU,CAAC;AACpB,CAAC;AALD,4CAKC","sourcesContent":["import hasha from 'hasha';\n\nexport function repoFingerprint(\n  repoId: number | string,\n  endpoint: string | undefined\n): string {\n  const input = endpoint ? `${endpoint}::${repoId}` : `${repoId}`;\n  const fingerprint = hasha(input);\n  return fingerprint;\n}\n\nexport function getNewBranchName(branchName?: string): string | undefined {\n  if (branchName && !branchName.startsWith('refs/heads/')) {\n    return `refs/heads/${branchName}`;\n  }\n  return branchName;\n}\n"]}