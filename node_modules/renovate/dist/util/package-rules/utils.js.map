{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../../lib/util/package-rules/utils.ts"],"names":[],"mappings":";;;;AAAA,kEAAkC;AAIlC,SAAgB,SAAS,CACvB,SAAoB,EACpB,aAA2B,EAC3B,WAAmC,EACnC,WAAwB;IAExB,IAAI,YAAY,GAAG,KAAK,CAAC;IACzB,KAAK,MAAM,OAAO,IAAI,aAAa,EAAE;QACnC,IAAI,OAAO,CAAC;QACZ,QAAQ,SAAS,EAAE;YACjB,KAAK,UAAU;gBACb,OAAO,GAAG,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;gBACrD,MAAM;YACR,KAAK,SAAS;gBACZ,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;gBACpD,MAAM;SACT;QAED,uBAAuB;QACvB,IAAI,YAAE,CAAC,eAAe,CAAC,OAAO,CAAC,EAAE;YAC/B,SAAS;SACV;QAED,YAAY,GAAG,IAAI,CAAC;QAEpB,IAAI,YAAE,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE;YACtB,OAAO,IAAI,CAAC;SACb;KACF;IACD,OAAO,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;AACrC,CAAC;AA9BD,8BA8BC;AAED,SAAgB,cAAc,CAAC,OAAe;IAC5C,OAAO,OAAO,KAAK,KAAK,IAAI,OAAO,KAAK,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;AAC/D,CAAC;AAFD,wCAEC","sourcesContent":["import is from '@sindresorhus/is';\nimport type { PackageRule, PackageRuleInputConfig } from '../../config/types';\nimport type { MatchType, MatcherApi } from './types';\n\nexport function matcherOR(\n  matchType: MatchType,\n  groupMatchers: MatcherApi[],\n  inputConfig: PackageRuleInputConfig,\n  packageRule: PackageRule\n): boolean | null {\n  let matchApplied = false;\n  for (const matcher of groupMatchers) {\n    let isMatch;\n    switch (matchType) {\n      case 'excludes':\n        isMatch = matcher.excludes(inputConfig, packageRule);\n        break;\n      case 'matches':\n        isMatch = matcher.matches(inputConfig, packageRule);\n        break;\n    }\n\n    // no rules are defined\n    if (is.nullOrUndefined(isMatch)) {\n      continue;\n    }\n\n    matchApplied = true;\n\n    if (is.truthy(isMatch)) {\n      return true;\n    }\n  }\n  return matchApplied ? false : null;\n}\n\nexport function massagePattern(pattern: string): string {\n  return pattern === '^*$' || pattern === '*' ? '.*' : pattern;\n}\n"]}